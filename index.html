<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- 引入 echarts.js -->
    <!--script src="\echartsmap\echarts-5.5.0-rc.2\dist\echarts.js"></script>
    <script src="\echartsmap\echarts-5.5.0-rc.2\test\lib\jquery.min.js"></script-->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>

</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="map" style="width: 600px;height:400px;"></div>
    <script type="text/javascript">
        var dom = document.getElementById('map');
        var myChart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false
        });
        var app = {};
        //var ROOT_PATH = 'https://echarts.apache.org/examples';
        var option;
        // 基于准备好的dom，初始化echarts实例
        //var myChart = echarts.init(document.getElementById('map'));
        myChart.showLoading();
        $.get('长江底图.geojson', function (geoJson) {
            myChart.hideLoading();
            echarts.registerMap('changjiang', geoJson);
            myChart.setOption(
                (option = {
                    title: {
                        text: '长江流域各省文物数量',
                        //subtext: 'Data from Wikipedia',
                        //sublink:
                            //'http://zh.wikipedia.org/wiki/%E9%A6%99%E6%B8%AF%E8%A1%8C%E6%94%BF%E5%8D%80%E5%8A%83#cite_note-12'
                    },
                    tooltip: {
                        trigger: 'item',
                        formatter: '{b}<br/>{c} (p / km2)'
                    },
                    toolbox: {
                        show: true,
                        orient: 'vertical',
                        left: 'right',
                        top: 'center',
                        feature: {
                            dataView: { readOnly: false },
                            restore: {},
                            saveAsImage: {}
                        }
                    },
                    visualMap: { //图例
                        min: 32793,
                        max: 2812571,
                        text: ['High', 'Low'],
                        realtime: false,
                        calculable: true,
                        inRange: {
                            color: ['#F5E3DE','#996061']
                        }
                    },
                    series: [
                        {
                            name: '长江流域各省文物数量',
                            type: 'map',
                            map: 'changjiang',
                            label: {
                                show: true
                            },
                            data: [
                                { name: '西藏自治区', value: 148355 },
                                { name: '青海省', value: 32793 },
                                { name: '云南省', value: 784196 },
                                { name: '四川省', value: 2029342 },
                                { name: '重庆市', value: 1482489 },
                                { name: '湖北省', value: 2187192 },
                                { name: '湖南省', value: 1817056 },
                                { name: '安徽省', value: 1158334 },
                                { name: '江西省', value: 641550 },
                                { name: '江苏省', value: 2812571 },
                                { name: '上海市', value: 560063 },
                                { name: '贵州省', value: 398290 },
                                { name: '江西省', value: 5881.84 }
                            ],
                            // 自定义名称映射
                            // nameMap: {
                            //     'Central and Western': '中西区',
                            //     Eastern: '东区',
                            //     Islands: '离岛',
                            //     'Kowloon City': '九龙城',
                            //     'Kwai Tsing': '葵青',
                            //     'Kwun Tong': '观塘',
                            //     North: '北区',
                            //     'Sai Kung': '西贡',
                            //     'Sha Tin': '沙田',
                            //     'Sham Shui Po': '深水埗',
                            //     Southern: '南区',
                            //     'Tai Po': '大埔',
                            //     'Tsuen Wan': '荃湾',
                            //     'Tuen Mun': '屯门',
                            //     'Wan Chai': '湾仔',
                            //     'Wong Tai Sin': '黄大仙',
                            //     'Yau Tsim Mong': '油尖旺',
                            //     'Yuen Long': '元朗'
                            // }
                        }
                    ]
                })
            );
        });
        if (option && typeof option === 'object') {
            myChart.setOption(option);
        }

        window.addEventListener('resize', myChart.resize);


    </script>
</body>
</html>
